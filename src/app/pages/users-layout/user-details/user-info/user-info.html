@let userData = user();
@if (userData) {
  <div class="app-ring-1 grid gap-6 rounded-2xl shadow md:grid-cols-4">
    <!-- Avatar & Name -->
    <div class="flex flex-col items-center gap-4 p-4">
      <img
        [src]="userData.pictureUrl ?? '/anonymous-avatar.png'"
        alt="User Avatar"
        class="size-36 rounded-full object-cover ring-2 ring-gray-200 dark:ring-gray-800"
      />

      <h2 class="text-xl font-semibold">
        {{ userData.displayName }}
      </h2>
    </div>

    <!-- More Details -->
    <div
      class="bg-surface-50 dark:bg-surface-900 grid gap-4 rounded-2xl p-4 md:col-span-3"
    >
      <div class="grid grid-cols-2 gap-4">
        <div class="flex flex-col">
          <p
            class="flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-gray-400"
          >
            <i class="pi pi-user text-blue-500"></i>
            Username
          </p>
          <p>{{ userData.userName }}</p>
        </div>

        <div class="flex flex-col">
          <p
            class="flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-gray-400"
          >
            <i class="pi pi-phone text-green-500"></i>
            Phone
          </p>
          <p>{{ userData.phoneNumber }}</p>
        </div>

        <div class="col-span-2 flex flex-col md:col-span-1">
          <p
            class="flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-gray-400"
          >
            <i class="pi pi-envelope text-amber-500"></i>
            Email
          </p>
          <a
            class="break-words text-sky-600 transition-colors duration-300 hover:text-sky-600/75 dark:text-sky-400 dark:hover:text-sky-400/75"
            href="mailto:{{ userData.email }}"
          >
            {{ userData.email }}
          </a>
        </div>

        <div class="col-span-2 flex flex-col md:col-span-1">
          <p
            class="flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-gray-400"
          >
            <i class="pi pi-id-card text-purple-500"></i>
            ID
          </p>
          <p>{{ userData.id }}</p>
        </div>
      </div>

      <!-- Roles  -->
      <app-user-roles
        [user]="userData"
        (userRolesUpdated)="onUserRolesUpdate()"
      />
    </div>
  </div>
}
