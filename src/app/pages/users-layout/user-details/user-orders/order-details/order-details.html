<div class="flex flex-col gap-6">
  <app-order-summary [order]="order()" />
  <app-order-shipping-info [order]="order()" />

  <!-- Order Items -->
  <section class="space-y-2">
    <h3 class="flex items-center gap-2 text-lg font-semibold">
      Order Items
      <p-badge severity="secondary" [value]="order().items.length" />
    </h3>

    <div class="app-ring-1 rounded-lg px-6 py-4">
      <div class="space-y-4">
        @for (orderItem of order().items; track orderItem) {
          <div
            class="app-ring-1 flex items-start gap-4 rounded p-4 shadow-sm max-sm:flex-col"
          >
            <img
              [routerLink]="['/products', 'details', orderItem.productId]"
              [src]="orderItem.pictureUrl"
              [alt]="orderItem.productName"
              class="size-20 cursor-pointer rounded object-cover duration-300 hover:brightness-75 dark:brightness-125 dark:hover:brightness-100"
            />
            <div class="flex-1">
              <h4
                class="text-sm font-semibold text-gray-800 dark:text-gray-200"
              >
                {{ orderItem.productName }}
              </h4>
              <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
                Qty: {{ orderItem.quantity }}
              </p>
            </div>
            <div class="text-right">
              <p
                class="text-base font-semibold text-gray-800 dark:text-gray-100"
              >
                {{ orderItem.price | currency: "USD" : "symbol" : "1.2-2" }}
              </p>
            </div>
          </div>
        }
      </div>
    </div>
  </section>

  <!-- Payment Summary -->
  <section class="space-y-2">
    <h3 class="text-lg font-semibold">Payment Summary</h3>

    <div class="app-ring-1 rounded-lg px-6 py-4">
      <ul class="space-y-4">
        <li class="flex justify-between">
          <span class="font-semibold">Subtotal</span>
          <span class="text-sm font-medium opacity-75">
            {{ order().subTotal | currency: "USD" : "symbol" : "1.2-2" }}
          </span>
        </li>
        <li class="flex justify-between">
          <span class="font-semibold">Shipping Cost</span>
          <span class="text-sm font-medium opacity-75">
            {{
              order().deliveryMethodCost | currency: "USD" : "symbol" : "1.2-2"
            }}
          </span>
        </li>

        <hr class="border-gray-300 dark:border-gray-600" />

        <li class="flex items-center justify-between text-lg">
          <span class="font-bold"> Total </span>
          <span class="text-primary font-semibold">
            {{ order().total | currency: "USD" : "symbol" : "1.2-2" }}
          </span>
        </li>
      </ul>
    </div>
  </section>
</div>
