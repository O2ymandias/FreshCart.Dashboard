<section class="flex flex-col gap-4 px-6 py-12">
  <!-- Navigation -->
  <p-breadcrumb [model]="navigationItems" />

  <!-- Form Header -->
  <div class="mb-8 text-center">
    <h1 class="mb-2 text-3xl font-bold text-gray-900 dark:text-gray-100">
      New Product
    </h1>
    <p class="text-gray-600 dark:text-gray-400">
      Create a new product and add it to your inventory
    </p>
  </div>

  <!-- Form -->
  <form
    [formGroup]="createProductForm"
    (ngSubmit)="createProduct()"
    class="app-ring-1 mx-auto grid max-w-4xl grid-cols-1 gap-6 rounded-2xl p-8 md:grid-cols-2"
  >
    <!-- Picture -->
    <div class="flex flex-col gap-2 md:col-span-2">
      <app-create-update-product-image
        (onUploadImage)="onUploadImage($event)"
        (valid)="onValidateImage($event)"
      />
      <app-form-errors
        [control]="createProductForm.controls.image"
        label="image"
      />
    </div>

    <!-- Name -->
    <div class="flex flex-col gap-2">
      <label class="opacity-75" for="name">Name</label>
      <input formControlName="name" id="name" pInputText />
      <app-form-errors
        [control]="createProductForm.controls.name"
        label="Name"
      />
    </div>

    <!-- Price -->
    <div class="flex flex-col gap-2">
      <label for="price" class="opacity-75">Price</label>
      <p-inputnumber
        formControlName="price"
        inputId="price"
        mode="currency"
        currency="USD"
        locale="en-US"
        [showButtons]="true"
        buttonLayout="horizontal"
        spinnerMode="horizontal"
        [step]="1"
      >
        <ng-template #incrementbuttonicon>
          <span class="pi pi-plus"></span>
        </ng-template>
        <ng-template #decrementbuttonicon>
          <span class="pi pi-minus"></span>
        </ng-template>
      </p-inputnumber>
      <app-form-errors
        [control]="createProductForm.controls.price"
        label="Price"
      />
    </div>

    <!-- Brand -->
    <div class="flex flex-col gap-2">
      <label (click)="brandSelectOptions.show()" class="opacity-75"
        >Brand</label
      >
      <p-select
        formControlName="brand"
        #brandSelectOptions
        [options]="brandsOptions()"
        placeholder="Select a Brand"
        [showClear]="true"
        optionLabel="name"
        [filter]="true"
        filterBy="name"
      />
      <app-form-errors
        [control]="createProductForm.controls.brand"
        label="Brand"
      />
    </div>

    <!-- Category -->
    <div class="flex flex-col gap-2">
      <label (click)="categorySelectOptions.show()" class="opacity-75"
        >Category</label
      >
      <p-select
        #categorySelectOptions
        formControlName="category"
        [options]="categoriesOptions()"
        optionLabel="name"
        placeholder="Select a Category"
        [showClear]="true"
        [filter]="true"
        filterBy="name"
      />
      <app-form-errors
        [control]="createProductForm.controls.category"
        label="Category"
      />
    </div>

    <!-- Stock -->
    <div class="flex flex-col gap-2 md:col-span-1">
      <label for="unitsInStock" class="opacity-75">Units In Stock</label>
      <p-inputnumber
        inputId="unitsInStock"
        formControlName="unitsInStock"
        [showButtons]="true"
        buttonLayout="horizontal"
        spinnerMode="horizontal"
        [step]="1"
      />
      <app-form-errors
        [control]="createProductForm.controls.unitsInStock"
        label="Units In Stock"
      />
    </div>

    <!-- Description -->
    <div class="flex flex-col gap-2 md:col-span-2">
      <label for="description" class="opacity-75">Description</label>
      <textarea
        formControlName="description"
        id="description"
        pTextarea
        [autoResize]="true"
      ></textarea>
      <app-form-errors
        [control]="createProductForm.controls.description"
        label="Description"
      />
    </div>

    <!-- Submit Button -->
    <div class="flex justify-end md:col-span-2">
      <p-button
        type="submit"
        label="Create"
        icon="pi pi-save"
        [loading]="loading()"
        [disabled]="!canSubmit"
      />
    </div>
  </form>
</section>
