<p-button
  severity="secondary"
  icon="pi pi-filter"
  size="small"
  rounded
  (click)="visible.set(true)"
/>
<p-drawer
  [closeButtonProps]="{
    severity: 'secondary',
    rounded: true,
    outlined: true,
  }"
  styleClass="w-96"
  header="Advanced Filter"
  [(visible)]="visible"
  position="right"
>
  <div class="flex h-full flex-col justify-between gap-4">
    <!-- Filters -->
    <div class="flex flex-col gap-4">
      <!-- Order Status -->
      <div class="flex flex-col gap-1">
        <label
          class="opacity-75"
          for="orderStatus"
          (click)="orderStatusElement.show()"
        >
          Order Status</label
        >
        <p-select
          #orderStatusElement
          class="w-full"
          [options]="OrderStatusOptions"
          [(ngModel)]="orderStatusOption"
          [showClear]="true"
          placeholder="None"
          optionLabel="label"
        />
      </div>

      <!-- Payment Status -->
      <div class="flex flex-col gap-1">
        <label
          class="opacity-75"
          for="paymentStatus"
          (click)="paymentStatusElement.show()"
        >
          Payment Status</label
        >
        <p-select
          #paymentStatusElement
          class="w-full"
          [options]="PaymentStatusOptions"
          [(ngModel)]="paymentStatusOption"
          [showClear]="true"
          placeholder="None"
          optionLabel="label"
        />
      </div>

      <!-- Payment Status -->
      <div class="flex flex-col gap-1">
        <label
          class="opacity-75"
          for="paymentMethod"
          (click)="paymentMethodElement.show()"
        >
          Payment Method</label
        >
        <p-select
          #paymentMethodElement
          class="w-full"
          [options]="PaymentMethodOptions"
          [(ngModel)]="paymentMethodOption"
          [showClear]="true"
          placeholder="None"
          optionLabel="label"
        />
      </div>

      <!-- Min Subtotal -->
      <div class="flex flex-col gap-1">
        <label class="opacity-75" for="minSubTotal">Min Subtotal</label>
        <p-inputnumber
          inputId="minSubTotal"
          [(ngModel)]="minSubTotal"
          mode="decimal"
          [useGrouping]="false"
          class="w-full"
          [showButtons]="true"
          placeholder="None"
          [min]="1"
        />
      </div>

      <!-- Max Subtotal -->
      <div class="flex flex-col gap-1">
        <label class="opacity-75" for="maxSubTotal">Max Subtotal</label>
        <p-inputnumber
          inputId="maxSubTotal"
          [(ngModel)]="maxSubTotal"
          mode="decimal"
          [useGrouping]="false"
          class="w-full"
          [showButtons]="true"
          placeholder="None"
          [min]="1"
        />
      </div>

      <!-- Start Date -->
      <div class="flex flex-col gap-1">
        <label class="opacity-75" for="startDate">Start Date</label>
        <p-datepicker
          inputId="startDate"
          [(ngModel)]="startDate"
          dateFormat="dd/mm/yy"
          [showIcon]="true"
          placeholder="None"
          [showClear]="true"
        />
      </div>

      <!-- End Date -->
      <div class="flex flex-col gap-1">
        <label class="opacity-75" for="endDate">End Date</label>
        <p-datepicker
          inputId="endDate"
          [(ngModel)]="endDate"
          dateFormat="dd/mm/yy"
          [showIcon]="true"
          placeholder="None"
          [showClear]="true"
        />
      </div>
    </div>

    <!-- Buttons -->
    <div class="flex items-center justify-between gap-2 pb-5">
      <p-button
        label="Apply"
        severity="primary"
        icon="pi pi-check"
        [loading]="loading()"
        [disabled]="noFilters()"
        (onClick)="applyFilters()"
      />
      <p-button
        label="Clear"
        severity="secondary"
        icon="pi pi-times"
        (onClick)="clearFilters()"
      />
    </div>
  </div>
</p-drawer>
