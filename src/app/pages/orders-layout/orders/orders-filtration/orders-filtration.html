<p-button
  severity="secondary"
  icon="pi pi-filter"
  size="small"
  rounded
  (click)="visible.set(true)"
/>
<p-drawer
  [closeButtonProps]="{
    severity: 'secondary',
    rounded: true,
    outlined: true,
  }"
  styleClass="w-96"
  header="Advanced Filter"
  [(visible)]="visible"
  position="right"
>
  <div class="flex flex-col justify-center gap-4">
    <!-- Filters -->
    <div class="flex flex-col gap-4">
      <!-- Order Status -->
      <div class="flex flex-col gap-1">
        <label
          class="opacity-75"
          for="orderStatus"
          (click)="orderStatusElement.show()"
        >
          Order Status</label
        >
        <p-select
          #orderStatusElement
          class="w-full"
          [options]="orderStatusOptions"
          [(ngModel)]="orderStatus"
          [showClear]="true"
          placeholder="None"
        />
      </div>

      <!-- Payment Status -->
      <div class="flex flex-col gap-1">
        <label
          class="opacity-75"
          for="paymentStatus"
          (click)="paymentStatusElement.show()"
        >
          Payment Status</label
        >
        <p-select
          #paymentStatusElement
          class="w-full"
          [options]="PaymentStatusOptions"
          [(ngModel)]="paymentStatus"
          [showClear]="true"
          placeholder="None"
        />
      </div>

      <!-- Payment Method -->
      <div class="flex flex-col gap-1">
        <label
          class="opacity-75"
          for="paymentMethod"
          (click)="paymentMethodElement.show()"
        >
          Payment Method</label
        >
        <p-select
          #paymentMethodElement
          class="w-full"
          [options]="PaymentMethodOptions"
          [(ngModel)]="paymentMethodOption"
          [showClear]="true"
          placeholder="None"
          optionLabel="label"
        />
      </div>

      <p-fieldset legend="Subtotal">
        <div class="flex flex-col gap-4">
          <!-- Min Subtotal -->
          <div class="flex flex-col gap-1">
            <label class="opacity-75" for="minSubTotal">Min</label>
            <p-inputnumber
              inputId="minSubTotal"
              [(ngModel)]="minSubTotal"
              mode="decimal"
              [useGrouping]="false"
              class="w-full"
              [showButtons]="true"
              placeholder="None"
              [min]="1"
            />
          </div>

          <!-- Max Subtotal -->
          <div class="flex flex-col gap-1">
            <label class="opacity-75" for="maxSubTotal">Max</label>
            <p-inputnumber
              inputId="maxSubTotal"
              [(ngModel)]="maxSubTotal"
              mode="decimal"
              [useGrouping]="false"
              class="w-full"
              [showButtons]="true"
              placeholder="None"
              [min]="1"
            />
          </div>
        </div>
      </p-fieldset>

      <p-fieldset legend="Date">
        <div class="flex flex-col gap-4">
          <!-- Start Date -->
          <div class="flex flex-col gap-1">
            <label class="opacity-75" for="startDate">Start Date</label>
            <p-datepicker
              inputId="startDate"
              [(ngModel)]="startDate"
              dateFormat="dd/mm/yy"
              [showIcon]="true"
              placeholder="None"
              [showClear]="true"
            />
          </div>

          <!-- End Date -->
          <div class="flex flex-col gap-1">
            <label class="opacity-75" for="endDate">End Date</label>
            <p-datepicker
              inputId="endDate"
              [(ngModel)]="endDate"
              dateFormat="dd/mm/yy"
              [showIcon]="true"
              placeholder="None"
              [showClear]="true"
            />
          </div>
        </div>
      </p-fieldset>
    </div>

    <!-- Buttons -->
    <div class="flex items-center justify-between gap-2">
      <p-button
        label="Apply"
        severity="primary"
        icon="pi pi-check"
        [loading]="loading()"
        [disabled]="noFilters()"
        (onClick)="applyFilters()"
      />
      <p-button
        label="Clear"
        severity="secondary"
        icon="pi pi-times"
        (onClick)="clearFilters()"
      />
    </div>
  </div>
</p-drawer>
